<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Halloween Ã— Programmatic Title Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --bg:#0b0b0c; --card:#121214; --ink:#f5f5f7; --muted:#c9c9d1; --line:#27272a; --accent:#8b5cf6; }
    *{box-sizing:border-box}
    body{margin:0;background:radial-gradient(1200px 600px at 50% -10%,#1a1a1d 0%, #000 70%) fixed, var(--bg); color:var(--ink); font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:760px;background:color-mix(in srgb,var(--card),transparent 10%);backdrop-filter: blur(6px);border:1px solid var(--line);border-radius:20px;box-shadow:0 20px 50px rgba(0,0,0,.35)}
    .body{padding:28px}
    h1{margin:0 0 10px;font-weight:800;font-size:26px}
    p{margin:0 0 18px;color:var(--muted)}
    .row{display:grid;grid-template-columns:1fr auto auto;gap:10px;align-items:end}
    label{display:block}
    .label{display:block;color:#9aa0a6;font-size:12px;margin:0 0 6px}
    .dob-fields{display:flex; gap:8px;}
    .dob-input{width:110px; padding:12px 14px; border-radius:12px; border:1px solid var(--line); background:#0c0c0f; color:#fff; outline:none}
    .dob-input.mm,.dob-input.dd{width:80px}
    button{padding:12px 14px;border-radius:12px;border:1px solid var(--line);background:#0c0c0f;color:#fff;cursor:pointer}
    .primary{border-color:color-mix(in srgb,var(--accent),#fff 70%); background: color-mix(in srgb,var(--accent), transparent 85%); color:#e9ddff}
    .primary[disabled]{opacity:.5;cursor:not-allowed}
    .panel{margin-top:16px;border:1px solid var(--line);border-radius:12px;background:#0c0c0f;padding:16px}
    .footer{font-size:12px;color:#9aa0a6;margin-top:14px}
    @media(max-width:760px){ .row{grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="body">
        <h1>ðŸŽƒ Halloween Ã— Programmatic Title Generator</h1>
        <p>Enter your <b>date of birth</b>. Weâ€™ll use your <i>day</i>, <i>month</i>, and the <i>last digit of your year</i> to conjure a spooky dev-flavored title.</p>

        <div class="row">
          <label>
            <span class="label">Date of Birth (YYYY / MM / DD)</span>
            <div class="dob-fields">
              <input id="dobY" class="dob-input yy" inputmode="numeric" placeholder="YYYY" maxlength="4" />
              <input id="dobM" class="dob-input mm" inputmode="numeric" placeholder="MM" maxlength="2" />
              <input id="dobD" class="dob-input dd" inputmode="numeric" placeholder="DD" maxlength="2" />
            </div>
          </label>
          <button id="randomize">Randomize</button>
          <button id="copy" class="primary" disabled>Copy Title</button>
        </div>

        <div class="panel">
          <div style="color:#c4b5fd;font-size:12px;font-weight:700;margin-bottom:6px">Your Movie Title</div>
          <h2 id="title" style="margin:0;font-size:28px;font-weight:900;min-height:36px">Pick a date to summon your titleâ€¦</h2>
        </div>

        <div class="footer">Tip: Copy your title and paste it as a reply in the Slack thread!</div>
      </div>
    </div>
  </div>

  <script>
    // Day â†’ opener
    const dayWords = {
      1:"Curse",2:"Blood",3:"Night",4:"Ghost",5:"Witch",6:"Vampire",7:"House",8:"Legend",
      9:"Haunting",10:"Return",11:"Tomb",12:"Killer",13:"Nightmare",14:"Terror",15:"Invasion",
      16:"Evil",17:"Revenge",18:"Shadows",19:"Demon",20:"Secret",21:"Bride",22:"Dawn",23:"Dead",
      24:"Mask",25:"Creeps",26:"Midnight",27:"Corpse",28:"Grave",29:"Phantom",30:"Zombie",31:"Cannibal"
    };
    // Month â†’ connector
    const monthTwist = {
      1:"of the",2:"in the",3:"from the",4:"beneath the",5:"beyond the",6:"against the",
      7:"at the",8:"versus the",9:"within the",10:"above the",11:"haunted by the",12:"rise of the"
    };
    // Last digit of year â†’ programmatic target
    const yearThing = {
      0:"Click Tracker",
      1:"Discrepancy",
      2:"Bot Traffic",
      3:"Cookies",
      4:"Optimizer",
      5:"Bounce Rate",
      6:"Bid Multiplier",
      7:"Deal Troubleshooter",
      8:"Audience Insight",
      9:"Report Builder"
    };

    // Elements
    const elY = document.getElementById("dobY");
    const elM = document.getElementById("dobM");
    const elD = document.getElementById("dobD");
    const elTitle = document.getElementById("title");
    const elCopy = document.getElementById("copy");
    const elRandomize = document.getElementById("randomize");

    // Utils
    const clamp = (n, min, max) => Math.max(min, Math.min(max, n));
    const daysInMonth = (y, m) => new Date(y, m, 0).getDate(); // m = 1..12

    function isComplete() {
      return elY.value.length === 4 && elM.value.length >= 1 && elD.value.length >= 1;
    }

    function buildISO() {
      if (!isComplete()) return "";
      const y = parseInt(elY.value, 10);
      const m = parseInt(elM.value, 10);
      const d = parseInt(elD.value, 10);
      if (!y || !m || !d) return "";
      if (m < 1 || m > 12) return "";
      const dim = daysInMonth(y, m);
      if (d < 1 || d > dim) return "";
      return `${y}-${String(m).padStart(2,"0")}-${String(d).padStart(2,"0")}`;
    }

    function titleFromISO(iso){
      if(!iso) return "";
      const [y,m,d] = iso.split("-").map(Number);
      return `${dayWords[d]} ${monthTwist[m]} ${yearThing[y % 10]}`;
    }

    function update(){
      // sanitize/clamp live
      elY.value = elY.value.replace(/\D+/g, "");
      elM.value = elM.value.replace(/\D+/g, "");
      elD.value = elD.value.replace(/\D+/g, "");
      if (elM.value) elM.value = String(clamp(parseInt(elM.value,10)||0,1,12));
      if (elD.value) {
        const y = parseInt(elY.value,10) || 2000; // temp year for clamp if not filled
        const m = parseInt(elM.value,10) || 1;
        elD.value = String(clamp(parseInt(elD.value,10)||0,1,daysInMonth(y,m)));
      }

      const iso = buildISO();
      const t = titleFromISO(iso);
      elTitle.textContent = t || "Pick a date to summon your titleâ€¦";
      elCopy.disabled = !t;
    }

    // Auto-advance & backspace
    function onInput(e){
      const t = e.target;
      if (t === elY && t.value.length >= 4) elM.focus();
      if (t === elM && t.value.length >= 2) elD.focus();
      update();
    }
    function onBackspace(e){
      if (e.key === "Backspace" && e.target.value === "") {
        if (e.target === elD) elM.focus();
        else if (e.target === elM) elY.focus();
      }
    }
    function onPaste(e){
      const text = (e.clipboardData || window.clipboardData).getData("text") || "";
      const m = text.trim().match(/^(\d{4})[-/]?(\d{2})[-/]?(\d{2})$/);
      if (m) {
        e.preventDefault();
        elY.value = m[1]; elM.value = m[2]; elD.value = m[3];
        update(); elD.focus();
      }
    }

    [elY, elM, elD].forEach(el=>{
      el.addEventListener("input", onInput);
      el.addEventListener("keydown", onBackspace);
      el.addEventListener("paste", onPaste);
      el.addEventListener("blur", update);
    });

    // Copy
    elCopy.addEventListener("click", async () => {
      const t = elTitle.textContent.trim();
      if(!t || t === "Pick a date to summon your titleâ€¦") return;
      try {
        await navigator.clipboard.writeText(`ðŸŽ¬ ${t}`);
        const old = elCopy.textContent;
        elCopy.textContent = "Copied!";
        setTimeout(()=> (elCopy.textContent = old), 1200);
      } catch(e) { alert("Copy failed. Please copy manually."); }
    });

    // Randomize
    elRandomize.addEventListener("click", () => {
      const day = Math.floor(Math.random()*31)+1;
      const month = Math.floor(Math.random()*12)+1;
      const year = 1970 + Math.floor(Math.random()*45); // 1970â€“2014
      elY.value = String(year);
      elM.value = String(month).padStart(2,"0");
      elD.value = String(day).padStart(2,"0");
      update();
      elD.focus();
    });

    // Initial
    update();
  </script>
</body>
</html>
